
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>HSTA Scenario Builder</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Home Service Transfer Allowance (HSTA) Scenario Builder</h1>
    <p>This tool estimates your HSTA allowance under both the Fixed and Actual pathways and recommends the most beneficial option based on your inputs.</p>
    
    <div class="hsta-summary">
  <p><strong>About HSTA:</strong> The Home Service Transfer Allowance (HSTA) helps defray extraordinary costs when transferring from a post abroad to a post in the United States (CONUS). Eligibility is limited to employees whose are transferring to the United States. Currently, transfers to other foreign posts (e.g., Spain, Thailand) are not eligible for HSTA.</p>
</div>
    
    <button id="theme-toggle">Toggle Dark Mode</button>
  </header>

  <div class="container">
    <div id="form-errors" class="form-errors" style="display:none;"></div>
    <form id="hsta-form">
      <fieldset>
        <legend>Travel Dates</legend>
        <label for="departure-date">Expected Departure Date from Post:</label>
        <input type="date" id="departure-date" name="departure-date" required>

        <label for="separation-date">Official Separation Date from USAID:</label>
        <input type="date" id="separation-date" name="separation-date" required>
      </fieldset>

      <fieldset>
        <legend>Family Composition</legend>
        <label for="has-family">Are you transferring with family members?</label>
        <select id="has-family" name="has-family" required>
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>

        <div id="family-details" style="display:none;">
          <label for="num-efms">How many family members are accompanying you?</label>
          <input type="number" id="num-efms" name="num-efms" min="1">

          <label for="num-children">How many are age 12 or younger?</label>
          <input type="number" id="num-children" name="num-children" min="0">
        </div>
      </fieldset>

      <fieldset>
        <legend>Foreign Service Grade</legend>
        <label for="fs-grade">Select your Foreign Service Grade:</label>
        <select id="fs-grade" name="fs-grade" required>
          <option value="">-- Select Grade --</option>
          <option value="FS-06">FS-06</option>
          <option value="FS-05">FS-05</option>
          <option value="FS-04">FS-04</option>
          <option value="FS-03">FS-03</option>
          <option value="FS-02">FS-02</option>
          <option value="FS-01">FS-01</option>
          <option value="SFS-Counselor">SFS – Counselor</option>
          <option value="SFS-MinisterCounselor">SFS – Minister-Counselor</option>
          <option value="SFS-CareerMinister">SFS – Career Minister</option>
        </select>

        <label for="fs-step">Step within Grade:</label>
        <select id="fs-step" name="fs-step" required>
          <option value="">-- Select Step --</option>
          <option value="1">Step 1</option>
          <option value="2">Step 2</option>
          <option value="3">Step 3</option>
          <option value="4">Step 4</option>
          <option value="5">Step 5</option>
          <option value="6">Step 6</option>
          <option value="7">Step 7</option>
          <option value="8">Step 8</option>
          <option value="9">Step 9</option>
          <option value="10">Step 10</option>
          <option value="11">Step 11</option>
          <option value="12">Step 12</option>
          <option value="13">Step 13</option>
          <option value="14">Step 14</option>
        </select>
      </fieldset>
      
      <fieldset>
        <legend>Allowance Eligibility</legend>
        <label for="perm-housing">Will you move into permanent quarters before HHE arrives?</label>
        <select id="perm-housing" name="perm-housing" required>
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>

        <div id="perm-housing-date" style="display:none;">
          <label for="move-in-date">Expected Move-in Date:</label>
          <input type="date" id="move-in-date" name="move-in-date">
        </div>

        <label for="shipping-car">Are you shipping a car through the U.S. Government?</label>
        <select id="shipping-car" name="shipping-car" required>
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>

        <label for="shipping-pet">Are you shipping a pet?</label>
        <select id="shipping-pet" name="shipping-pet" required>
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>

        <label for="departure-country">What country are you departing from?</label>
        <select id="departure-country" name="departure-country" required>
          <option value="">-- Select Country --</option>
          <option value="Afghanistan">Afghanistan</option>
          <option value="Albania">Albania</option>
          <option value="Algeria">Algeria</option>
          <option value="Andorra">Andorra</option>
          <option value="Angola">Angola</option>
          <option value="Argentina">Argentina</option>
          <option value="Armenia">Armenia</option>
          <option value="Australia">Australia</option>
          <option value="Austria">Austria</option>
          <option value="Azerbaijan">Azerbaijan</option>
          <option value="Bahamas">Bahamas</option>
          <option value="Bahrain">Bahrain</option>
          <option value="Bangladesh">Bangladesh</option>
          <option value="Barbados">Barbados</option>
          <option value="Belarus">Belarus</option>
          <option value="Belgium">Belgium</option>
          <option value="Belize">Belize</option>
          <option value="Benin">Benin</option>
          <option value="Bhutan">Bhutan</option>
          <option value="Bolivia">Bolivia</option>
          <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
          <option value="Botswana">Botswana</option>
          <option value="Brazil">Brazil</option>
          <option value="Brunei">Brunei</option>
          <option value="Bulgaria">Bulgaria</option>
          <option value="Burkina Faso">Burkina Faso</option>
          <option value="Burundi">Burundi</option>
          <option value="Cambodia">Cambodia</option>
          <option value="Cameroon">Cameroon</option>
          <option value="Canada">Canada</option>
          <option value="Cape Verde">Cape Verde</option>
          <option value="Central African Republic">Central African Republic</option>
          <option value="Chad">Chad</option>
          <option value="Chile">Chile</option>
          <option value="China">China</option>
          <option value="Colombia">Colombia</option>
          <option value="Comoros">Comoros</option>
          <option value="Congo (Brazzaville)">Congo (Brazzaville)</option>
          <option value="Congo (Kinshasa)">Congo (Kinshasa)</option>
          <option value="Costa Rica">Costa Rica</option>
          <option value="Croatia">Croatia</option>
          <option value="Cuba">Cuba</option>
          <option value="Cyprus">Cyprus</option>
          <option value="Czech Republic">Czech Republic</option>
          <option value="Denmark">Denmark</option>
          <option value="Djibouti">Djibouti</option>
          <option value="Dominica">Dominica</option>
          <option value="Dominican Republic">Dominican Republic</option>
          <option value="Ecuador">Ecuador</option>
          <option value="Egypt">Egypt</option>
          <option value="El Salvador">El Salvador</option>
          <option value="Equatorial Guinea">Equatorial Guinea</option>
          <option value="Eritrea">Eritrea</option>
          <option value="Estonia">Estonia</option>
          <option value="Eswatini">Eswatini</option>
          <option value="Ethiopia">Ethiopia</option>
          <option value="Fiji">Fiji</option>
          <option value="Finland">Finland</option>
          <option value="France">France</option>
          <option value="Gabon">Gabon</option>
          <option value="Gambia">Gambia</option>
          <option value="Georgia">Georgia</option>
          <option value="Germany">Germany</option>
          <option value="Ghana">Ghana</option>
          <option value="Greece">Greece</option>
          <option value="Grenada">Grenada</option>
          <option value="Guatemala">Guatemala</option>
          <option value="Guinea">Guinea</option>
          <option value="Guinea-Bissau">Guinea-Bissau</option>
          <option value="Guyana">Guyana</option>
          <option value="Haiti">Haiti</option>
          <option value="Honduras">Honduras</option>
          <option value="Hungary">Hungary</option>
          <option value="Iceland">Iceland</option>
          <option value="India">India</option>
          <option value="Indonesia">Indonesia</option>
          <option value="Iran">Iran</option>
          <option value="Iraq">Iraq</option>
          <option value="Ireland">Ireland</option>
          <option value="Israel">Israel</option>
          <option value="Italy">Italy</option>
          <option value="Jamaica">Jamaica</option>
          <option value="Japan">Japan</option>
          <option value="Jordan">Jordan</option>
          <option value="Kazakhstan">Kazakhstan</option>
          <option value="Kenya">Kenya</option>
          <option value="Kiribati">Kiribati</option>
          <option value="Korea, North">Korea, North</option>
          <option value="Korea, South">Korea, South</option>
          <option value="Kosovo">Kosovo</option>
          <option value="Kuwait">Kuwait</option>
          <option value="Kyrgyzstan">Kyrgyzstan</option>
          <option value="Laos">Laos</option>
          <option value="Latvia">Latvia</option>
          <option value="Lebanon">Lebanon</option>
          <option value="Lesotho">Lesotho</option>
          <option value="Liberia">Liberia</option>
          <option value="Libya">Libya</option>
          <option value="Liechtenstein">Liechtenstein</option>
          <option value="Lithuania">Lithuania</option>
          <option value="Luxembourg">Luxembourg</option>
          <option value="Madagascar">Madagascar</option>
          <option value="Malawi">Malawi</option>
          <option value="Malaysia">Malaysia</option>
          <option value="Maldives">Maldives</option>
          <option value="Mali">Mali</option>
          <option value="Malta">Malta</option>
          <option value="Marshall Islands">Marshall Islands</option>
          <option value="Mauritania">Mauritania</option>
          <option value="Mauritius">Mauritius</option>
          <option value="Mexico">Mexico</option>
          <option value="Micronesia">Micronesia</option>
          <option value="Moldova">Moldova</option>
          <option value="Monaco">Monaco</option>
          <option value="Mongolia">Mongolia</option>
          <option value="Montenegro">Montenegro</option>
          <option value="Morocco">Morocco</option>
          <option value="Mozambique">Mozambique</option>
          <option value="Myanmar">Myanmar</option>
          <option value="Namibia">Namibia</option>
          <option value="Nauru">Nauru</option>
          <option value="Nepal">Nepal</option>
          <option value="Netherlands">Netherlands</option>
          <option value="New Zealand">New Zealand</option>
          <option value="Nicaragua">Nicaragua</option>
          <option value="Niger">Niger</option>
          <option value="Nigeria">Nigeria</option>
          <option value="North Macedonia">North Macedonia</option>
          <option value="Norway">Norway</option>
          <option value="Oman">Oman</option>
          <option value="Pakistan">Pakistan</option>
          <option value="Palau">Palau</option>
          <option value="Panama">Panama</option>
          <option value="Papua New Guinea">Papua New Guinea</option>
          <option value="Paraguay">Paraguay</option>
          <option value="Peru">Peru</option>
          <option value="Philippines">Philippines</option>
          <option value="Poland">Poland</option>
          <option value="Portugal">Portugal</option>
          <option value="Qatar">Qatar</option>
          <option value="Romania">Romania</option>
          <option value="Russia">Russia</option>
          <option value="Rwanda">Rwanda</option>
          <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
          <option value="Saint Lucia">Saint Lucia</option>
          <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
          <option value="Samoa">Samoa</option>
          <option value="San Marino">San Marino</option>
          <option value="Sao Tome and Principe">Sao Tome and Principe</option>
          <option value="Saudi Arabia">Saudi Arabia</option>
          <option value="Senegal">Senegal</option>
          <option value="Serbia">Serbia</option>
          <option value="Seychelles">Seychelles</option>
          <option value="Sierra Leone">Sierra Leone</option>
          <option value="Singapore">Singapore</option>
          <option value="Slovakia">Slovakia</option>
          <option value="Slovenia">Slovenia</option>
          <option value="Solomon Islands">Solomon Islands</option>
          <option value="Somalia">Somalia</option>
          <option value="South Africa">South Africa</option>
          <option value="South Sudan">South Sudan</option>
          <option value="Spain">Spain</option>
          <option value="Sri Lanka">Sri Lanka</option>
          <option value="Sudan">Sudan</option>
          <option value="Suriname">Suriname</option>
          <option value="Sweden">Sweden</option>
          <option value="Switzerland">Switzerland</option>
          <option value="Syria">Syria</option>
          <option value="Taiwan">Taiwan</option>
          <option value="Tajikistan">Tajikistan</option>
          <option value="Tanzania">Tanzania</option>
          <option value="Thailand">Thailand</option>
          <option value="Timor-Leste">Timor-Leste</option>
          <option value="Togo">Togo</option>
          <option value="Tonga">Tonga</option>
          <option value="Trinidad and Tobago">Trinidad and Tobago</option>
          <option value="Tunisia">Tunisia</option>
          <option value="Turkey">Turkey</option>
          <option value="Turkmenistan">Turkmenistan</option>
          <option value="Tuvalu">Tuvalu</option>
          <option value="Uganda">Uganda</option>
          <option value="Ukraine">Ukraine</option>
          <option value="United Arab Emirates">United Arab Emirates</option>
          <option value="United Kingdom">United Kingdom</option>
          <option value="United States">United States</option>
          <option value="Uruguay">Uruguay</option>
          <option value="Uzbekistan">Uzbekistan</option>
          <option value="Vanuatu">Vanuatu</option>
          <option value="Vatican City">Vatican City</option>
          <option value="Venezuela">Venezuela</option>
          <option value="Vietnam">Vietnam</option>
          <option value="Yemen">Yemen</option>
          <option value="Zambia">Zambia</option>
          <option value="Zimbabwe">Zimbabwe</option>
        </select>
      </fieldset>

      <fieldset>
        <legend>Optional Reimbursement Triggers</legend>

        <label for="tech-issues">Did local conditions damage your tech devices?</label>
        <select id="tech-issues" name="tech-issues">
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>

        <div id="tech-cost-section" style="display:none;">
          <label for="tech-estimate">Estimated Tech Replacement Cost ($):</label>
          <input type="number" id="tech-estimate" name="tech-estimate" step="0.01" min="0">
        </div>

        <label for="lithium-removal">Were lithium batteries removed due to shipping restrictions?</label>
        <select id="lithium-removal" name="lithium-removal">
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>

        <div id="battery-cost-section" style="display:none;">
          <label for="battery-estimate">Estimated Lithium Battery Replacement Cost ($):</label>
          <input type="number" id="battery-estimate" name="battery-estimate" step="0.01" min="0">
        </div>

        <label for="renting-car">Do you expect to rent a car while awaiting POV?</label>
        <select id="renting-car" name="renting-car">
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>

        <div id="car-rental-cost-section" style="display:none;">
          <label for="car-estimate">"Estimated Total Car Rental Cost (up to 60 days, if shipping POV through USG) ($):"</label>
          <input type="number" id="car-estimate" name="car-estimate" step="0.01" min="0">
        </div>
      </fieldset>

      <button type="submit">Estimate My HSTA</button>
      <button type="reset" id="reset-form">Reset Form</button>
    </form>

    <div id="results-section" style="display:none;">
      <h2>HSTA Scenario Comparison</h2>
      <div id="scenario-summary" class="scenario-summary" style="margin-bottom: 1.5rem;"></div>
      <div class="result-row">
        <div class="result-card" id="fixed-card">
          <h3>Fixed HSTA Estimate</h3>
          <div id="fixed-breakdown"></div>
        </div>
        <div class="result-card" id="actual-card">
          <h3>Actual HSTA Estimate</h3>
          <div id="actual-breakdown"></div>
        </div>
      </div>
      <div id="recommendation" class="recommendation-banner"></div>
      <p class="print-note">Tip: Use the "Print Results" button to save a clean copy of your estimate as a PDF for your records.</p>
      <button id="print-results">Print Results</button>
    </div>
  </div>

  <footer>
    <p>© 2025 Roy Geiser. Released under the MIT License.</p>
    <p>This tool is unofficial and provided for informational purposes only. It does not replace official USAID or Department of State guidance, nor does it guarantee final reimbursement values. FSOs should confirm calculations with their Executive Officer or HR representative.</p>
  </footer>

  <script type="module" src="main.js"></script>
</body>
</html>
