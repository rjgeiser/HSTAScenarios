
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>HSTA Scenario Builder</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Home Service Transfer Allowance (HSTA) Scenario Builder</h1>
    <p>This tool estimates your HSTA allowance under both the Fixed and Actual pathways and recommends the most beneficial option based on your inputs.</p>
    <button id="theme-toggle">Toggle Dark Mode</button>
  </header>

  <div class="container">
    <form id="hsta-form">
      <fieldset>
        <legend>Travel Dates</legend>
        <label for="departure-date">Expected Departure Date from Post:</label>
        <input type="date" id="departure-date" name="departure-date" required>

        <label for="separation-date">Official Separation Date from USAID:</label>
        <input type="date" id="separation-date" name="separation-date" required>
      </fieldset>

      <fieldset>
        <legend>Family Composition</legend>
        <label for="has-family">Are you transferring with family members?</label>
        <select id="has-family" name="has-family" required>
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>

        <div id="family-details" style="display:none;">
          <label for="num-efms">How many family members are accompanying you?</label>
          <input type="number" id="num-efms" name="num-efms" min="1">

          <label for="num-children">How many are age 12 or younger?</label>
          <input type="number" id="num-children" name="num-children" min="0">
        </div>
      </fieldset>

      <fieldset>
        <legend>Foreign Service Grade</legend>
        <select id="fs-grade" name="fs-grade" required>
          <option value="">-- Select Grade --</option>
          <option value="FS-06">FS-06</option>
          <option value="FS-05">FS-05</option>
          <option value="FS-04">FS-04</option>
          <option value="FS-03">FS-03</option>
          <option value="FS-02">FS-02</option>
          <option value="FS-01">FS-01</option>
          <option value="SFS-Counselor">SFS – Counselor</option>
          <option value="SFS-MinisterCounselor">SFS – Minister-Counselor</option>
          <option value="SFS-CareerMinister">SFS – Career Minister</option>
        </select>

        <label for="fs-step">Step within Grade:</label>
        <select id="fs-step" name="fs-step" required>
          <option value="">-- Select Step --</option>
<option value="1">Step 1</option>
<option value="2">Step 2</option>
<option value="3">Step 3</option>
<option value="4">Step 4</option>
<option value="5">Step 5</option>
<option value="6">Step 6</option>
<option value="7">Step 7</option>
<option value="8">Step 8</option>
<option value="9">Step 9</option>
<option value="10">Step 10</option>
<option value="11">Step 11</option>
<option value="12">Step 12</option>
<option value="13">Step 13</option>
<option value="14">Step 14</option>
        </select>
      </fieldset>

      <fieldset>
        <legend>Allowance Eligibility</legend>
        <label for="perm-housing">Will you move into permanent quarters before HHE arrives?</label>
        <select id="perm-housing" name="perm-housing" required>
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>

        <div id="perm-housing-date" style="display:none;">
          <label for="move-in-date">Expected Move-in Date:</label>
          <input type="date" id="move-in-date" name="move-in-date">
        </div>

        <label for="shipping-car">Are you shipping a car through the U.S. Government?</label>
        <select id="shipping-car" name="shipping-car" required>
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>

        <label for="shipping-pet">Are you shipping a pet?</label>
        <select id="shipping-pet" name="shipping-pet" required>
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>

        <label for="departure-country">What country are you departing from?</label>
        <select id="departure-country" name="departure-country" required>
          <option value="">-- Select Country --</option>
          <option value="Afghanistan">Afghanistan</option>
          <option value="Dominican Republic">Dominican Republic</option>
          <option value="El Salvador">El Salvador</option>
          <option value="Germany">Germany</option>
          <option value="Honduras">Honduras</option>
          <option value="India">India</option>
          <option value="Iraq">Iraq</option>
          <option value="Jordan">Jordan</option>
          <option value="Kenya">Kenya</option>
          <option value="Mexico">Mexico</option>
          <option value="Nepal">Nepal</option>
          <option value="Pakistan">Pakistan</option>
          <option value="Peru">Peru</option>
          <option value="South Africa">South Africa</option>
          <option value="Ukraine">Ukraine</option>
        </select>
      </fieldset>

      <fieldset>
        <legend>Optional Reimbursement Triggers</legend>

        <label for="tech-issues">Did local conditions damage your tech devices?</label>
        <select id="tech-issues" name="tech-issues">
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>

        <div id="tech-cost-section" style="display:none;">
          <label for="tech-estimate">Estimated Tech Replacement Cost ($):</label>
          <input type="number" id="tech-estimate" name="tech-estimate" step="0.01" min="0">
        </div>

        <label for="lithium-removal">Were lithium batteries removed due to shipping restrictions?</label>
        <select id="lithium-removal" name="lithium-removal">
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>

        <div id="battery-cost-section" style="display:none;">
          <label for="battery-estimate">Estimated Lithium Battery Replacement Cost ($):</label>
          <input type="number" id="battery-estimate" name="battery-estimate" step="0.01" min="0">
        </div>

        <label for="renting-car">Do you expect to rent a car while awaiting POV?</label>
        <select id="renting-car" name="renting-car">
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>

        <div id="car-rental-cost-section" style="display:none;">
          <label for="car-estimate">Estimated Car Rental Cost ($):</label>
          <input type="number" id="car-estimate" name="car-estimate" step="0.01" min="0">
        </div>
      </fieldset>

      <button type="submit">Estimate My HSTA</button>
    </form>

    <div id="results-section" style="display:none;">
      <h2>HSTA Scenario Comparison</h2>
      <div class="result-row">
        <div class="result-card" id="fixed-card">
          <h3>Fixed HSTA Estimate</h3>
          <div id="fixed-breakdown"></div>
        </div>
        <div class="result-card" id="actual-card">
          <h3>Actual HSTA Estimate</h3>
          <div id="actual-breakdown"></div>
        </div>
      </div>
      <div id="recommendation" class="recommendation-banner"></div>
    </div>
  </div>

  <footer>
    <p>© 2025 Roy Geiser. Released under the MIT License.</p>
    <p>This tool is unofficial and provided for informational purposes only. It does not replace official USAID or Department of State guidance, nor does it guarantee final reimbursement values. FSOs should confirm calculations with their Executive Officer or HR representative.</p>
  </footer>

  <script type="module" src="main.js"></script>
</body>
</html>
